{% extends "base.html" %}

{% block title %}Dashboard - AMRS Maintenance Tracker{% endblock %}

{% block content %}
<div class="dashboard">
    <h2>Maintenance Dashboard</h2>
    
    <div class="stats-container">
        <div class="stat-card overdue">
            <div class="stat-icon">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="stat-content">
                <h3>Overdue</h3>
                <p class="stat-value">{{ dashboard.overdue_count }}</p>
            </div>
        </div>
        
        <div class="stat-card due-soon">
            <div class="stat-icon">
                <i class="fas fa-clock"></i>
            </div>
            <div class="stat-content">
                <h3>Due Soon</h3>
                <p class="stat-value">{{ dashboard.due_soon_count }}</p>
            </div>
        </div>
        
        <div class="stat-card total-parts">
            <div class="stat-icon">
                <i class="fas fa-cogs"></i>
            </div>
            <div class="stat-content">
                <h3>Total Parts</h3>
                <p class="stat-value">{{ dashboard.total_parts }}</p>
            </div>
        </div>
    </div>
    
    <div class="recent-maintenance">
        <h3>Recent Maintenance Activities</h3>
        {% if recent_maintenance %}
        <table class="data-table">
            <thead>
                <tr>
                    <th>Part</th>
                    <th>Machine</th>
                    <th>Site</th>
                    <th>Date</th>
                    <th>Technician</th>
                </tr>
            </thead>
            <tbody>
                {% for record in recent_maintenance %}
                <tr>
                    <td>{{ record.part_name }}</td>
                    <td>{{ record.machine_name }}</td>
                    <td>{{ record.site_name }}</td>
                    <td>{{ record.date }}</td>
                    <td>{{ record.technician }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p class="no-data">No recent maintenance records found.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
